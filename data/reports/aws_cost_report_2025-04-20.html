<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Cost Report - 2025-04-20</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <style>
        /* General Styles */
        :root {
            --primary-color: #0066CC;
            --secondary-color: #5BADFF;
            --accent-color: #FF9900;
            --dark-color: #232F3E;
            --light-color: #F8F9FA;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #FF9900;
            --info-color: #17a2b8;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #333;
            line-height: 1.6;
            background-color: #f5f7f9;
            padding-bottom: 2rem;
        }
        
        .dashboard-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .stats-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            height: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        
        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
        }
        
        .card-title {
            color: var(--dark-color);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .card-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 0.5rem;
        }
        
        .card-subtitle {
            font-size: 0.85rem;
            color: #6c757d;
        }
        
        .dashboard-section {
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 1.5rem;
            color: var(--dark-color);
            margin-bottom: 1.5rem;
            font-weight: 600;
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
        }
        
        .table-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .table {
            margin-bottom: 0;
        }
        
        .table thead th {
            background-color: #f8f9fa;
            color: var(--dark-color);
            font-weight: 600;
            border-top: none;
            padding: 1rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .table tbody td {
            padding: 1rem;
            vertical-align: middle;
            border-color: #eee;
        }
        
        .badge {
            font-weight: 500;
            padding: 0.5em 0.8em;
            border-radius: 30px;
        }
        
        .badge-active {
            background-color: #ccf5e1;
            color: #00864e;
        }
        
        .badge-pending {
            background-color: #fff3cd;
            color: #856404;
        }
        
        .badge-cancelled {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .btn-cancel {
            background-color: var(--danger-color);
            border: none;
            color: white;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-cancel:hover {
            background-color: #bd2130;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }
        
        .cost-amount {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .service-name {
            font-weight: 600;
            color: var(--dark-color);
        }
        
        .service-details {
            font-size: 0.85rem;
            color: #6c757d;
        }
        
        .chart-container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            height: 400px;
        }
        
        .pagination-container {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
        }
        
        .pagination {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
            gap: 0.5rem;
        }
        
        .page-item {
            display: inline-block;
        }
        
        .page-link {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            background: white;
            color: var(--dark-color);
            border: 1px solid #dee2e6;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .page-link:hover {
            background-color: #e9ecef;
        }
        
        .page-item.active .page-link {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .page-info {
            padding: 0.5rem 1rem;
            background: white;
            border-radius: 6px;
            border: 1px solid #dee2e6;
            color: #6c757d;
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .dashboard-title {
            font-size: 1.8rem;
            color: var(--dark-color);
            font-weight: 700;
            margin: 0;
        }
        
        .dashboard-subtitle {
            color: #6c757d;
            font-size: 1rem;
            margin-top: 0.25rem;
        }
        
        .cancel-service-btn {
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .cancel-service-btn:hover {
            background-color: #bd2130;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.3);
        }
        
        /* Modal Styles */
        .modal {
            display: none; 
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        
        .modal-content {
            position: relative;
            background-color: #fff;
            margin: 10% auto;
            width: 550px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: modalFadeIn 0.3s;
        }
        
        @keyframes modalFadeIn {
            from {opacity: 0; transform: translateY(-20px);}
            to {opacity: 1; transform: translateY(0);}
        }
        
        .modal-header {
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }
        
        .modal-header h2 {
            margin: 0;
            color: var(--dark-color);
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-body {
            padding: 1.5rem;
            font-size: 1rem;
        }
        
        .modal-body p {
            margin-bottom: 1rem;
        }
        
        .modal-body strong {
            font-weight: 600;
        }
        
        .confirmation-checkbox {
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-notice {
            background-color: #e7f3fe;
            border-left: 4px solid #2196F3;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 6px;
        }
        
        .info-notice p {
            margin: 0;
            color: #0c5460;
        }
        
        .success-message {
            background-color: #d4edda;
            border-left: 4px solid #28a745;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 6px;
            color: #155724;
        }
        
        .error-message {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-radius: 6px;
            color: #721c24;
        }
        
        .reference-id {
            font-family: monospace;
            background-color: #f8f9fa;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            border: 1px solid #dee2e6;
            font-weight: bold;
        }
        
        .modal-footer {
            padding: 1rem 1.5rem;
            background-color: #f8f9fa;
            border-top: 1px solid #e9ecef;
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        .btn-primary {
            background-color: #0066CC;
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #0056b3;
        }
        
        .close {
            color: #aaa;
            font-size: 1.5rem;
            font-weight: bold;
            position: absolute;
            right: 1.5rem;
            top: 1rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .close:hover {
            color: #333;
        }
        
        /* Status indicator for cancellation tracking */
        .cancellation-requested {
            background-color: #fff3cd;
            color: #856404;
            padding: 0.25rem 0.75rem;
            border-radius: 30px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }
        
        .cancellation-progress {
            margin-top: 0.75rem;
            padding: 0.75rem;
            background-color: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #dee2e6;
        }
        
        .eta-timer {
            font-weight: bold;
            color: #0d6efd;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="dashboard-header">
            <div>
                <h1 class="dashboard-title">AWS Cost Dashboard</h1>
                <p class="dashboard-subtitle">Cost data from 2025-03-21 to 2025-04-20</p>
            </div>
            <div>
                <button class="btn btn-primary" onclick="window.print()">
                    <i class="fas fa-download me-2"></i>Export Report
                </button>
            </div>
        </div>
        
        <!-- Stats Cards -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="stats-card">
                    <h2 class="card-title">Total Cost</h2>
                    <div class="card-value">$36.64</div>
                    <div class="card-subtitle">From 2025-03-21 to 2025-04-20</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stats-card">
                    <h2 class="card-title">Top Service</h2>
                    
                    
                    <div class="card-value">Amazon OpenSearch Service</div>
                    <div class="card-value">$36.50</div>
                    
                </div>
            </div>
            <div class="col-md-4">
                <div class="stats-card">
                    <h2 class="card-title">Services</h2>
                    <div class="card-value">4</div>
                    <div class="card-subtitle">Total active services</div>
                </div>
            </div>
        </div>
        
        <!-- Services Table -->
        <div class="dashboard-section">
            <h2 class="section-title">Top Services by Cost</h2>
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>SERVICE</th>
                            <th>DETAILS</th>
                            <th>COST</th>
                            <th>STATUS</th>
                            <th>ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody id="servicesTableBody">
                        
                        <tr data-service="Amazon OpenSearch Service" >
                            <td>
                                <div class="service-name">Amazon OpenSearch Service</div>
                            </td>
                            <td>
                                <div class="service-details">Search/OUs, Indexing/DUs, Storage</div>
                            </td>
                            <td>
                                <div class="cost-amount">$36.50</div>
                            </td>
                            <td>
                                
                                <span class="badge badge-pending">Active</span>
                                
                            </td>
                            <td class="action-buttons">
                                <button class="cancel-service-btn" data-service="Amazon OpenSearch Service" >
                                    <i class="fas fa-times-circle me-1"></i>Cancel Service
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-service="Amazon Bedrock" >
                            <td>
                                <div class="service-name">Amazon Bedrock</div>
                            </td>
                            <td>
                                <div class="service-details">Model inference, tokens, API usage</div>
                            </td>
                            <td>
                                <div class="cost-amount">$0.12</div>
                            </td>
                            <td>
                                
                                <span class="badge badge-pending">Active</span>
                                
                            </td>
                            <td class="action-buttons">
                                <button class="cancel-service-btn" data-service="Amazon Bedrock" >
                                    <i class="fas fa-times-circle me-1"></i>Cancel Service
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-service="Claude 3.7 Sonnet (Amazon Bedrock Edition)" >
                            <td>
                                <div class="service-name">Claude 3.7 Sonnet (Amazon Bedrock Edition)</div>
                            </td>
                            <td>
                                <div class="service-details">Model inference, tokens, API usage</div>
                            </td>
                            <td>
                                <div class="cost-amount">$0.02</div>
                            </td>
                            <td>
                                
                                <span class="badge badge-pending">Active</span>
                                
                            </td>
                            <td class="action-buttons">
                                <button class="cancel-service-btn" data-service="Claude 3.7 Sonnet (Amazon Bedrock Edition)" >
                                    <i class="fas fa-times-circle me-1"></i>Cancel Service
                                </button>
                            </td>
                        </tr>
                        
                        <tr data-service="Claude 3 Haiku (Amazon Bedrock Edition)" >
                            <td>
                                <div class="service-name">Claude 3 Haiku (Amazon Bedrock Edition)</div>
                            </td>
                            <td>
                                <div class="service-details">Model inference, tokens, API usage</div>
                            </td>
                            <td>
                                <div class="cost-amount">$0.00</div>
                            </td>
                            <td>
                                
                                <span class="badge badge-pending">Active</span>
                                
                            </td>
                            <td class="action-buttons">
                                <button class="cancel-service-btn" data-service="Claude 3 Haiku (Amazon Bedrock Edition)" >
                                    <i class="fas fa-times-circle me-1"></i>Cancel Service
                                </button>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>
            
            <!-- Pagination -->
            <div class="pagination-container mt-3">
                <nav aria-label="Services pagination">
                    <ul class="pagination">
                        <li class="page-item" id="prevPageBtn">
                            <button class="page-link">
                                <i class="fas fa-chevron-left me-1"></i>Previous
                            </button>
                        </li>
                        <li class="page-item page-info">
                            Page <span id="currentPage">1</span> of <span id="totalPages">1</span>
                        </li>
                        <li class="page-item" id="nextPageBtn">
                            <button class="page-link">
                                Next<i class="fas fa-chevron-right ms-1"></i>
                            </button>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        
        <!-- Cost Trends Chart -->
        <div class="dashboard-section">
            <h2 class="section-title">Daily Cost Trends</h2>
            <div class="chart-container">
                <canvas id="dailyCostChart"></canvas>
            </div>
        </div>
        
        <!-- Service Breakdown Chart -->
        <div class="dashboard-section">
            <h2 class="section-title">Service Cost Breakdown</h2>
            <div class="chart-container">
                <canvas id="serviceBreakdownChart"></canvas>
            </div>
        </div>
    </div>
    
    <!-- Modal for service cancellation confirmation -->
    <div id="cancellationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="cancellationTitle"><i class="fas fa-exclamation-triangle text-danger me-2"></i>Cancel <span id="confirmationServiceName"></span></h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to cancel <strong id="confirmationServiceName2"></strong>?</p>
                <p>This will begin the process of canceling this service in your AWS account.</p>
                <div class="confirmation-checkbox">
                    <input type="checkbox" id="confirmationCheckbox" class="form-check-input">
                    <label for="confirmationCheckbox" class="form-check-label">I understand that canceling this service may affect running applications.</label>
                </div>
                <div class="info-notice">
                    <p><i class="fas fa-info-circle me-2"></i>Note: You will need to provide AWS credentials in the next step to complete this cancellation.</p>
                </div>
                
                <!-- Results area (initially hidden) -->
                <div id="cancellationResult" style="display: none;">
                    <!-- Results will be dynamically populated -->
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancelButton" class="btn btn-secondary">Cancel</button>
                <button id="proceedButton" class="btn btn-danger">Proceed with Cancellation</button>
            </div>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Report data -->
    <script>
        const serviceData = [{"cost": 36.5004668668, "details": "Search/OUs, Indexing/DUs, Storage", "service": "Amazon OpenSearch Service", "status": "Active"}, {"cost": 0.11875035, "details": "Model inference, tokens, API usage", "service": "Amazon Bedrock", "status": "Active"}, {"cost": 0.016197, "details": "Model inference, tokens, API usage", "service": "Claude 3.7 Sonnet (Amazon Bedrock Edition)", "status": "Active"}, {"cost": 0.00043475, "details": "Model inference, tokens, API usage", "service": "Claude 3 Haiku (Amazon Bedrock Edition)", "status": "Active"}];
        const dailyCosts = [{"cost": 0.0, "date": "2025-03-21", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-03-22", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-03-23", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-03-24", "service": "No significant costs"}, {"cost": 0.03739671, "date": "2025-03-25", "service": "Amazon Bedrock ($0.03), Claude 3.7 Sonnet (Amazon Bedrock Edition) ($0.01)"}, {"cost": 0.0049252, "date": "2025-03-26", "service": "Amazon Bedrock ($0.00), Claude 3.7 Sonnet (Amazon Bedrock Edition) ($0.00)"}, {"cost": 0.0, "date": "2025-03-27", "service": "No significant costs"}, {"cost": 1.9404933239, "date": "2025-03-28", "service": "Amazon Bedrock ($0.00), Amazon OpenSearch Service ($1.94)"}, {"cost": 11.6130336484, "date": "2025-03-29", "service": "Amazon Bedrock ($0.09), Amazon OpenSearch Service ($11.52), Claude 3 Haiku (Amazon Bedrock Edition) ($0.00), +1 more"}, {"cost": 11.5200000797, "date": "2025-03-30", "service": "Amazon OpenSearch Service ($11.52)"}, {"cost": 11.5200000048, "date": "2025-03-31", "service": "Amazon OpenSearch Service ($11.52)"}, {"cost": 11.5200000048, "date": "2025-04-01", "service": "Amazon OpenSearch Service ($11.52)"}, {"cost": 8.3206666698, "date": "2025-04-02", "service": "AWS Cost Explorer ($0.19), Amazon OpenSearch Service ($8.13)"}, {"cost": 0.0, "date": "2025-04-03", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-04", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-05", "service": "No significant costs"}, {"cost": 0.05, "date": "2025-04-06", "service": "AWS Cost Explorer ($0.05), AWS Skill Builder Individual ($29.00)"}, {"cost": 0.0, "date": "2025-04-07", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-08", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-09", "service": "No significant costs"}, {"cost": 3.15, "date": "2025-04-10", "service": "AWS Cost Explorer ($3.15)"}, {"cost": 38.53, "date": "2025-04-11", "service": "AWS Cost Explorer ($5.71), AWS Skill Builder Individual ($29.00), Tax ($3.82)"}, {"cost": 0.0, "date": "2025-04-12", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-13", "service": "No significant costs"}, {"cost": 3.05, "date": "2025-04-14", "service": "AWS Cost Explorer ($3.05)"}, {"cost": 1.58, "date": "2025-04-15", "service": "AWS Cost Explorer ($1.58)"}, {"cost": 1.77, "date": "2025-04-16", "service": "AWS Cost Explorer ($1.77)"}, {"cost": 2.4, "date": "2025-04-17", "service": "AWS Cost Explorer ($2.40)"}, {"cost": 0.0, "date": "2025-04-18", "service": "No significant costs"}, {"cost": 0.0, "date": "2025-04-19", "service": "No significant costs"}];
    </script>
    
    <!-- Custom JS -->
    <script src="static/js/report.js"></script>
</body>
</html>